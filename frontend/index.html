<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Dashboard for uploading and managing invoices with the AI Accounting Agent." />
  <title>AI Accounting Agent Dashboard</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="main-header">
    <h1>AI Accounting Agent</h1>
    <div class="theme-toggle">
      <label for="themeSelect">Theme:</label>
      <select id="themeSelect">
        <option value="light">Light</option>
        <option value="dark">Dark</option>
      </select>
    </div>
  </header>

  <main class="dashboard-main">

    <section class="upload-section">
      <h2>Upload Invoice Files</h2>
      <div id="drop-area">
        <p>Drag & drop your files here, or click to browse</p>
        <input type="file" id="fileElem" accept=".pdf,.jpeg,.jpg,.png" multiple />
      </div>
      <ul id="fileList"></ul>
    </section>

    <section class="status-section">
      <h2>Processing Status</h2>
      <div id="status"></div>
    </section>

    <section class="transactions-section">
      <h2>Processed Transactions</h2>
      <div class="table-container" style="display: none;">
        <table id="transactionsTable" aria-label="List of processed invoice transactions">
            <caption>Summary of recently processed invoices</caption>
            <thead>
                <tr>
                    <!-- Use scope for accessibility -->
                    <th scope="col">File Name</th>
                    <th scope="col">Vendor</th>
                    <th scope="col">Invoice #</th>
                    <th scope="col">Invoice Date</th>
                    <th scope="col">Total Amount</th>
                    <th scope="col">Status</th>
                    <th scope="col">Actions</th> <!-- Placeholder for view/edit actions -->
                </tr>
            </thead>
        <tbody></tbody>
      </table>
      </div>
    </section>

    <section class="reports-section">
      <h2>Generate Report</h2>
      <p>Select a report type and click Generate.</p>
      <div class="report-controls">
        <label for="reportType">Report Type:</label>
        <select id="reportType">
            <option value="">-- Select Report --</option>
            <option value="pnl">Profit & Loss</option>
            <option value="balance">Balance Sheet</option>
            <option value="ap">Accounts Payable Aging</option>
            <option value="cashflow">Cash Flow Statement</option>
            <option value="transactions">Transaction List</option>
            <option value="sales">Sales Report</option>
            <option value="expenses">Expenses Report</option>
        </select>
        <!-- Date Range Picker (initially hidden, shown based on report type) -->
        <div id="dateRangePicker" class="date-range" style="display: none;">
            <label for="startDate">Start Date:</label>
            <input type="date" id="startDate" name="startDate">
            <label for="endDate">End Date:</label>
            <input type="date" id="endDate" name="endDate">
        </div>
        <button id="generateReport">Generate</button>
      </div>
      <div id="reportOutput" aria-live="polite"></div>
    </section>
  </main>

  
  <footer class="main-footer">
    <p>Â© <span id="currentYear"></span> AI Accounting Agent. All rights reserved.</p>
  </footer>
  <script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();
  </script>
  <script type="module" src="js/fileHandler.js"></script>
  <script type="module" src="js/reportHandler.js"></script>
  <script>
    // Theme toggle functionality
    const themeSelect = document.getElementById('themeSelect');
    themeSelect.addEventListener('change', (e) => {
      document.body.setAttribute('data-theme', e.target.value);
    });
  </script>
</body>
</html>
